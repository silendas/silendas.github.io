(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[501],{6887:(e,t,s)=>{Promise.resolve().then(s.bind(s,7395))},4094:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var l=s(5155),a=s(2115),i=s(6046),r=s(399),n=s(437);function c(e){let{children:t}=e,s=(0,i.useRouter)(),[c,d]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{let e=(0,r.hg)(n.j,e=>{if(!e){s.push("/login");return}d(!1)});return()=>e()},[s]),c)?(0,l.jsx)("div",{children:"Loading..."}):(0,l.jsx)(l.Fragment,{children:t})}},7704:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var l=s(5155),a=s(7396),i=s(6046),r=s(5037),n=s(437);function c(){let e=(0,i.usePathname)(),t=(0,i.useRouter)(),s=async()=>{try{await n.j.signOut(),await fetch("/api/auth/logout",{method:"POST"}),r.Ay.success("Berhasil logout"),t.push("/login")}catch(e){r.Ay.error("Gagal logout"),console.error(e)}};return(0,l.jsxs)("div",{className:"w-64 bg-gray-800 min-h-screen p-4",children:[(0,l.jsx)("div",{className:"text-white text-xl font-bold mb-8",children:"Admin Dashboard"}),(0,l.jsx)("nav",{children:(0,l.jsxs)("ul",{className:"space-y-2",children:[(0,l.jsx)("li",{children:(0,l.jsx)(a.default,{href:"/skills",className:"block p-2 rounded ".concat(e.includes("/skills")?"bg-blue-600":"hover:bg-gray-700"," text-white"),children:"Kelola Skills"})}),(0,l.jsx)("li",{children:(0,l.jsx)(a.default,{href:"/messages",className:"block p-2 rounded ".concat(e.includes("/messages")?"bg-blue-600":"hover:bg-gray-700"," text-white"),children:"Pesan Masuk"})}),(0,l.jsx)("li",{children:(0,l.jsx)(a.default,{href:"/projects",className:"block p-2 rounded ".concat(e.includes("/projects")?"bg-blue-600":"hover:bg-gray-700"," text-white"),children:"Kelola Projects"})}),(0,l.jsx)("li",{children:(0,l.jsx)("button",{onClick:s,className:"block w-full text-left p-2 rounded hover:bg-gray-700 text-white",children:"Logout"})})]})})]})}},437:(e,t,s)=>{"use strict";s.d(t,{db:()=>c,j:()=>n});var l=s(9904),a=s(7058),i=s(399);let r=(0,l.Dk)().length?(0,l.Dk)()[0]:(0,l.Wp)({apiKey:"AIzaSyAiPygaXg5iJdRdnuT70nIVEmFneThD0YI",authDomain:"portfolio-5c370.firebaseapp.com",projectId:"portfolio-5c370",storageBucket:"portfolio-5c370.firebasestorage.app",messagingSenderId:"464844631095",appId:"1:464844631095:web:7e1937d7fa2467ae05e3b2"}),n=(0,i.xI)(r),c=(0,a.aU)(r)},7395:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var l=s(5155),a=s(4094),i=s(2115),r=s(7058),n=s(437),c=s(7704),d=s(5037);function o(){let[e,t]=(0,i.useState)([]),[s,o]=(0,i.useState)({title:"",percent:0,technologies:[]}),[h,u]=(0,i.useState)(""),[p,x]=(0,i.useState)(null);(0,i.useEffect)(()=>{g()},[]);let g=async()=>{try{let e=(await (0,r.GG)((0,r.rJ)(n.db,"skills"))).docs.map(e=>({id:e.id,...e.data()}));t(e)}catch(e){d.Ay.error("Gagal mengambil data skills")}},m=async e=>{e.preventDefault();try{p?(await (0,r.mZ)((0,r.H9)(n.db,"skills",p.id),s),d.Ay.success("Skill berhasil diperbarui!")):(await (0,r.gS)((0,r.rJ)(n.db,"skills"),s),d.Ay.success("Skill berhasil ditambahkan!")),o({title:"",percent:0,technologies:[]}),x(null),g()}catch(e){d.Ay.error("Terjadi kesalahan!")}},b=async e=>{try{await (0,r.kd)((0,r.H9)(n.db,"skills",e)),d.Ay.success("Skill berhasil dihapus!"),g()}catch(e){d.Ay.error("Gagal menghapus skill")}},j=e=>{o({...s,technologies:s.technologies.filter((t,s)=>s!==e)})};return(0,l.jsx)(a.A,{children:(0,l.jsxs)("div",{className:"flex min-h-screen bg-gray-900",children:[(0,l.jsx)(c.A,{}),(0,l.jsxs)("div",{className:"flex-1 p-8",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold text-white mb-6",children:"Kelola Skills"}),(0,l.jsxs)("form",{onSubmit:m,className:"mb-8",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsx)("input",{type:"text",placeholder:"Judul Skill",value:s.title,onChange:e=>o({...s,title:e.target.value}),className:"p-2 rounded bg-gray-700 text-white"}),(0,l.jsx)("input",{type:"number",placeholder:"Persentase Kemampuan",value:s.percent,onChange:e=>o({...s,percent:Number(e.target.value)}),className:"p-2 rounded bg-gray-700 text-white",min:"0",max:"100"}),(0,l.jsxs)("div",{className:"col-span-2",children:[(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("input",{type:"text",placeholder:"Tambah Teknologi",value:h,onChange:e=>u(e.target.value),className:"p-2 rounded bg-gray-700 text-white flex-1"}),(0,l.jsx)("button",{type:"button",onClick:()=>{h.trim()&&(o({...s,technologies:[...s.technologies,h.trim()]}),u(""))},className:"bg-green-600 text-white px-4 py-2 rounded",children:"Tambah"})]}),(0,l.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:s.technologies.map((e,t)=>(0,l.jsxs)("span",{className:"bg-blue-600 text-white px-2 py-1 rounded flex items-center gap-2",children:[e,(0,l.jsx)("button",{type:"button",onClick:()=>j(t),className:"text-sm hover:text-red-300",children:"\xd7"})]},t))})]})]}),(0,l.jsx)("button",{type:"submit",className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded",children:p?"Update Skill":"Tambah Skill"})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 gap-4",children:e.map(e=>(0,l.jsxs)("div",{className:"bg-gray-800 p-4 rounded flex justify-between items-center",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-white font-bold",children:e.title}),(0,l.jsxs)("p",{className:"text-gray-300",children:["Kemampuan: ",e.percent,"%"]}),(0,l.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:e.technologies.map((e,t)=>(0,l.jsx)("span",{className:"bg-blue-600 text-white px-2 py-1 rounded text-sm",children:e},t))})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("button",{onClick:()=>{x(e),o({title:e.title,percent:e.percent,technologies:[...e.technologies]})},className:"bg-yellow-600 text-white px-3 py-1 rounded mr-2",children:"Edit"}),(0,l.jsx)("button",{onClick:()=>b(e.id),className:"bg-red-600 text-white px-3 py-1 rounded",children:"Hapus"})]})]},e.id))})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,882,37,459,463,441,517,358],()=>t(6887)),_N_E=e.O()}]);