(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[893],{1375:(e,t,s)=>{Promise.resolve().then(s.bind(s,5435))},4094:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(5155),l=s(2115),r=s(6046),i=s(399),c=s(437);function n(e){let{children:t}=e,s=(0,r.useRouter)(),[n,o]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{let e=(0,i.hg)(c.j,e=>{if(!e){s.push("/login");return}o(!1)});return()=>e()},[s]),n)?(0,a.jsx)("div",{children:"Loading..."}):(0,a.jsx)(a.Fragment,{children:t})}},7704:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(5155),l=s(7396),r=s(6046),i=s(5037),c=s(437);function n(){let e=(0,r.usePathname)(),t=(0,r.useRouter)(),s=async()=>{try{await c.j.signOut(),await fetch("/api/auth/logout",{method:"POST"}),i.Ay.success("Berhasil logout"),t.push("/login")}catch(e){i.Ay.error("Gagal logout"),console.error(e)}};return(0,a.jsxs)("div",{className:"w-64 bg-gray-800 min-h-screen p-4",children:[(0,a.jsx)("div",{className:"text-white text-xl font-bold mb-8",children:"Admin Dashboard"}),(0,a.jsx)("nav",{children:(0,a.jsxs)("ul",{className:"space-y-2",children:[(0,a.jsx)("li",{children:(0,a.jsx)(l.default,{href:"/skills",className:"block p-2 rounded ".concat(e.includes("/skills")?"bg-blue-600":"hover:bg-gray-700"," text-white"),children:"Kelola Skills"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l.default,{href:"/projects",className:"block p-2 rounded ".concat(e.includes("/projects")?"bg-blue-600":"hover:bg-gray-700"," text-white"),children:"Kelola Projects"})}),(0,a.jsx)("li",{children:(0,a.jsx)("button",{onClick:s,className:"block w-full text-left p-2 rounded hover:bg-gray-700 text-white",children:"Logout"})})]})})]})}},437:(e,t,s)=>{"use strict";s.d(t,{db:()=>n,j:()=>c});var a=s(9904),l=s(7058),r=s(399);let i=(0,a.Dk)().length?(0,a.Dk)()[0]:(0,a.Wp)({apiKey:"AIzaSyAiPygaXg5iJdRdnuT70nIVEmFneThD0YI",authDomain:"portfolio-5c370.firebaseapp.com",projectId:"portfolio-5c370",storageBucket:"portfolio-5c370.firebasestorage.app",messagingSenderId:"464844631095",appId:"1:464844631095:web:7e1937d7fa2467ae05e3b2"}),c=(0,r.xI)(i),n=(0,l.aU)(i)},5435:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(5155),l=s(4094),r=s(2115),i=s(7058),c=s(437),n=s(7704),o=s(5037);function d(){let[e,t]=(0,r.useState)([]),[s,d]=(0,r.useState)({title:"",description:"",technologies:[],link:""}),[h,u]=(0,r.useState)(""),[p,x]=(0,r.useState)(null);(0,r.useEffect)(()=>{g()},[]);let g=async()=>{try{let e=(await (0,i.GG)((0,i.rJ)(c.db,"projects"))).docs.map(e=>({id:e.id,...e.data()}));t(e)}catch(e){o.Ay.error("Gagal mengambil data projects")}},m=async e=>{e.preventDefault();try{p?(await (0,i.mZ)((0,i.H9)(c.db,"projects",p.id),s),o.Ay.success("Project berhasil diperbarui!")):(await (0,i.gS)((0,i.rJ)(c.db,"projects"),s),o.Ay.success("Project berhasil ditambahkan!")),d({title:"",description:"",technologies:[],link:""}),x(null),g()}catch(e){o.Ay.error("Terjadi kesalahan!")}},b=async e=>{try{await (0,i.kd)((0,i.H9)(c.db,"projects",e)),o.Ay.success("Project berhasil dihapus!"),g()}catch(e){o.Ay.error("Gagal menghapus project")}},j=e=>{d({...s,technologies:s.technologies.filter((t,s)=>s!==e)})};return(0,a.jsx)(l.A,{children:(0,a.jsxs)("div",{className:"flex min-h-screen bg-gray-900",children:[(0,a.jsx)(n.A,{}),(0,a.jsxs)("div",{className:"flex-1 p-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-white mb-6",children:"Kelola Projects"}),(0,a.jsxs)("form",{onSubmit:m,className:"mb-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)("input",{type:"text",placeholder:"Judul Project",value:s.title,onChange:e=>d({...s,title:e.target.value}),className:"p-2 rounded bg-gray-700 text-white"}),(0,a.jsx)("input",{type:"text",placeholder:"Link Project",value:s.link,onChange:e=>d({...s,link:e.target.value}),className:"p-2 rounded bg-gray-700 text-white"}),(0,a.jsx)("textarea",{placeholder:"Deskripsi",value:s.description,onChange:e=>d({...s,description:e.target.value}),className:"p-2 rounded bg-gray-700 text-white col-span-2",rows:4}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",placeholder:"Tambah Teknologi",value:h,onChange:e=>u(e.target.value),className:"p-2 rounded bg-gray-700 text-white flex-1"}),(0,a.jsx)("button",{type:"button",onClick:()=>{h.trim()&&(d({...s,technologies:[...s.technologies,h.trim()]}),u(""))},className:"bg-green-600 text-white px-4 py-2 rounded",children:"Tambah"})]}),(0,a.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:s.technologies.map((e,t)=>(0,a.jsxs)("span",{className:"bg-blue-600 text-white px-2 py-1 rounded flex items-center gap-2",children:[e,(0,a.jsx)("button",{type:"button",onClick:()=>j(t),className:"text-sm hover:text-red-300",children:"\xd7"})]},t))})]})]}),(0,a.jsx)("button",{type:"submit",className:"mt-4 bg-blue-600 text-white px-4 py-2 rounded",children:p?"Update Project":"Tambah Project"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-4",children:e.map(e=>(0,a.jsxs)("div",{className:"bg-gray-800 p-4 rounded flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-white font-bold",children:e.title}),(0,a.jsx)("p",{className:"text-gray-300",children:e.description}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:e.technologies.map((e,t)=>(0,a.jsx)("span",{className:"bg-blue-600 text-white px-2 py-1 rounded text-sm",children:e},t))}),(0,a.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 mt-2 inline-block",children:"Lihat Project"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("button",{onClick:()=>{x(e),d({title:e.title,description:e.description,technologies:[...e.technologies],link:e.link})},className:"bg-yellow-600 text-white px-3 py-1 rounded mr-2",children:"Edit"}),(0,a.jsx)("button",{onClick:()=>b(e.id),className:"bg-red-600 text-white px-3 py-1 rounded",children:"Hapus"})]})]},e.id))})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,882,37,459,463,441,517,358],()=>t(1375)),_N_E=e.O()}]);