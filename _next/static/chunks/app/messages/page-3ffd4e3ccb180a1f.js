(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[451],{4266:(e,s,t)=>{Promise.resolve().then(t.bind(t,9841))},4094:(e,s,t)=>{"use strict";t.d(s,{A:()=>d});var a=t(5155),l=t(2115),r=t(6046),i=t(399),c=t(437);function d(e){let{children:s}=e,t=(0,r.useRouter)(),[d,n]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{let e=(0,i.hg)(c.j,e=>{if(!e){t.push("/login");return}n(!1)});return()=>e()},[t]),d)?(0,a.jsx)("div",{children:"Loading..."}):(0,a.jsx)(a.Fragment,{children:s})}},7704:(e,s,t)=>{"use strict";t.d(s,{A:()=>d});var a=t(5155),l=t(7396),r=t(6046),i=t(5037),c=t(437);function d(){let e=(0,r.usePathname)(),s=(0,r.useRouter)(),t=async()=>{try{await c.j.signOut(),await fetch("/api/auth/logout",{method:"POST"}),i.Ay.success("Berhasil logout"),s.push("/login")}catch(e){i.Ay.error("Gagal logout"),console.error(e)}};return(0,a.jsxs)("div",{className:"w-64 bg-gray-800 min-h-screen p-4",children:[(0,a.jsx)("div",{className:"text-white text-xl font-bold mb-8",children:"Admin Dashboard"}),(0,a.jsx)("nav",{children:(0,a.jsxs)("ul",{className:"space-y-2",children:[(0,a.jsx)("li",{children:(0,a.jsx)(l.default,{href:"/skills",className:"block p-2 rounded ".concat(e.includes("/skills")?"bg-blue-600":"hover:bg-gray-700"," text-white"),children:"Kelola Skills"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l.default,{href:"/messages",className:"block p-2 rounded ".concat(e.includes("/messages")?"bg-blue-600":"hover:bg-gray-700"," text-white"),children:"Pesan Masuk"})}),(0,a.jsx)("li",{children:(0,a.jsx)(l.default,{href:"/projects",className:"block p-2 rounded ".concat(e.includes("/projects")?"bg-blue-600":"hover:bg-gray-700"," text-white"),children:"Kelola Projects"})}),(0,a.jsx)("li",{children:(0,a.jsx)("button",{onClick:t,className:"block w-full text-left p-2 rounded hover:bg-gray-700 text-white",children:"Logout"})})]})})]})}},437:(e,s,t)=>{"use strict";t.d(s,{db:()=>d,j:()=>c});var a=t(9904),l=t(7058),r=t(399);let i=(0,a.Dk)().length?(0,a.Dk)()[0]:(0,a.Wp)({apiKey:"AIzaSyAiPygaXg5iJdRdnuT70nIVEmFneThD0YI",authDomain:"portfolio-5c370.firebaseapp.com",projectId:"portfolio-5c370",storageBucket:"portfolio-5c370.firebasestorage.app",messagingSenderId:"464844631095",appId:"1:464844631095:web:7e1937d7fa2467ae05e3b2"}),c=(0,r.xI)(i),d=(0,l.aU)(i)},9841:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var a=t(5155),l=t(4094),r=t(2115),i=t(7058),c=t(437),d=t(7704),n=t(5037);function o(){let[e,s]=(0,r.useState)([]);(0,r.useEffect)(()=>{t()},[]);let t=async()=>{try{let e=(0,i.P)((0,i.rJ)(c.db,"messages"),(0,i.My)("createdAt","desc")),t=(await (0,i.GG)(e)).docs.map(e=>({id:e.id,...e.data()}));s(t)}catch(e){n.Ay.error("Gagal mengambil data pesan")}},o=e=>e.toDate().toLocaleString("id-ID",{dateStyle:"medium",timeStyle:"short"});return(0,a.jsx)(l.A,{children:(0,a.jsxs)("div",{className:"flex min-h-screen bg-gray-900",children:[(0,a.jsx)(d.A,{}),(0,a.jsxs)("div",{className:"flex-1 p-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-white mb-6",children:"Pesan Masuk"}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-4",children:e.map(e=>(0,a.jsxs)("div",{className:"bg-gray-800 p-4 rounded",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-white font-bold",children:e.name}),(0,a.jsx)("p",{className:"text-gray-400 text-sm",children:e.email})]}),(0,a.jsx)("span",{className:"text-gray-400 text-sm",children:o(e.createdAt)})]}),(0,a.jsx)("p",{className:"text-gray-300",children:e.message})]},e.id))})]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[992,882,37,459,463,441,517,358],()=>s(4266)),_N_E=e.O()}]);